<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Active Directory 域服务概述 | 河南省商务中等职业学校</title><meta name="keywords" content="WindowServer2019"><meta name="author" content="网络搭建竞赛组"><meta name="copyright" content="网络搭建竞赛组"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Active Directory域服务的适用范围（Scope）AD DS的适用范围非常广泛，它可以用在一台计算机、一个小型局域网络（LAN）或数个广域网（WAN）结合的环境中。它包含此范围中的所有对象，例如文件、打印机、应用程序、服务器、域控制器和用户账户等。 名称空间（Namespace）​    名称空间是一个界定好的区域（bounded area），在此区域内，我们可以利用某个名称找到与此名">
<meta property="og:type" content="article">
<meta property="og:title" content="Active Directory 域服务概述">
<meta property="og:url" content="https://www.hnswxx.cn/2021/11/11/active-directory-domain-services-overview/index.html">
<meta property="og:site_name" content="河南省商务中等职业学校">
<meta property="og:description" content="Active Directory域服务的适用范围（Scope）AD DS的适用范围非常广泛，它可以用在一台计算机、一个小型局域网络（LAN）或数个广域网（WAN）结合的环境中。它包含此范围中的所有对象，例如文件、打印机、应用程序、服务器、域控制器和用户账户等。 名称空间（Namespace）​    名称空间是一个界定好的区域（bounded area），在此区域内，我们可以利用某个名称找到与此名">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://z3.ax1x.com/2021/11/12/IBwfWF.png">
<meta property="article:published_time" content="2021-11-11T14:11:05.000Z">
<meta property="article:modified_time" content="2021-11-19T03:54:10.216Z">
<meta property="article:author" content="网络搭建竞赛组">
<meta property="article:tag" content="WindowServer2019">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://z3.ax1x.com/2021/11/12/IBwfWF.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://www.hnswxx.cn/2021/11/11/active-directory-domain-services-overview/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//s4.cnzz.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?40bf17b5c158004f1b79add895b85851";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script async="async" data-pjax="data-pjax" src="https://s4.cnzz.com/z_stat.php?id=1280585001&amp;web_id=1280585001"></script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#121212","position":"bottom-left"},
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Active Directory 域服务概述',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-11-19 11:54:10'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="/css/icon.css" media="defer" onload="this.media='all'"><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="河南省商务中等职业学校" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://z3.ax1x.com/2021/11/13/IybhP1.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">27</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">21</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 档案</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://720yun.com/t/74vkshrmriy?scene_id=50147975"><i class="fa-fw fas fa-video"></i><span> 学校VR</span></a></div><div class="menus_item"><a class="site-page" href="/movies/"><i class="fa-fw fa fa-heart"></i><span> 电影</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我们</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://z3.ax1x.com/2021/11/12/IBwfWF.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">河南省商务中等职业学校</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 档案</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" target="_blank" rel="noopener" href="https://720yun.com/t/74vkshrmriy?scene_id=50147975"><i class="fa-fw fas fa-video"></i><span> 学校VR</span></a></div><div class="menus_item"><a class="site-page" href="/movies/"><i class="fa-fw fa fa-heart"></i><span> 电影</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我们</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Active Directory 域服务概述</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-11-11T14:11:05.000Z" title="发表于 2021-11-11 22:11:05">2021-11-11</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-11-19T03:54:10.216Z" title="更新于 2021-11-19 11:54:10">2021-11-19</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Windows/">Windows</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Active Directory 域服务概述"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h4 id="Active-Directory域服务的适用范围（Scope）"><a href="#Active-Directory域服务的适用范围（Scope）" class="headerlink" title="Active Directory域服务的适用范围（Scope）"></a>Active Directory域服务的适用范围（Scope）</h4><p>AD DS的适用范围非常广泛，它可以用在一台计算机、一个小型局域网络（LAN）或数个广域网（WAN）结合的环境中。它包含此范围中的所有对象，例如文件、打印机、应用程序、服务器、域控制器和用户账户等。</p>
<h4 id="名称空间（Namespace）"><a href="#名称空间（Namespace）" class="headerlink" title="名称空间（Namespace）"></a>名称空间（Namespace）</h4><p>​    <strong>名称空间</strong>是一个界定好的区域（bounded area），在此区域内，我们可以利用某个名称找到与此名称有关的信息。例如一本电话薄就是一个<strong>名称空间</strong>，在这本电话薄内（界定好的区域内），我们可以利用姓名来找到此人的电话、地址与生日等数据。又例如Windows操作系统的NTFS文件系统也是一个<strong>名称空间</strong>，在这个文件系统内，我们可以利用文件名来找到此文件的大小、修改日期与文件内容等数据。</p>
<p>​    <strong>Active Directory域服务（AD DS）</strong>也是一个<strong>名称空间</strong>。利用AD DS，我们可以通过对象名称来找到与此对象有关的所有信息。</p>
<p>​    在TCP/IP网络环境下利用Domain Name System（DNS）来解析主机名与IP地址的对应关系，例如利用DNS来得知主机的IP地址。AD DS也与DNS紧密地集成在一起，它的域名<strong>空间</strong>也是采用DNS架构，因此域名是采用DNS格式来命名的，例如可以将AD DS的域名命名为sayms.local</p>
<h4 id="对象（Object）与属性（Attribute）"><a href="#对象（Object）与属性（Attribute）" class="headerlink" title="对象（Object）与属性（Attribute）"></a>对象（Object）与属性（Attribute）</h4><p>​    AD DS内的资源以对象的形式存在，例如用户、计算机等都是对象，而对象是通过<strong>属性</strong>来描述其特征的，也就是对象本身是一些属性的集合。例如若要为使用者<strong>王乔治</strong>建立一个账户，则需要新建一个对象类型（object class）为<strong>用户</strong>的对象（也就是用户账户），然后在此对象内输入<strong>王乔治</strong>的姓、名、登录名与地址等，其中的用户账户就是对象，而姓、名与登录名等就是该对象的属性（参考表1-1）。另外图1-1中的<strong>王乔治</strong>就是对象类型为用户（user）的对象。</p>
<p>表1-1</p>
<table>
<thead>
<tr>
<th>对象（object）</th>
<th>属性（attributes）</th>
</tr>
</thead>
<tbody><tr>
<td>用户（user）</td>
<td>姓名登录名地址…</td>
</tr>
</tbody></table>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/IB0eyj"><img src="https://z3.ax1x.com/2021/11/12/IB0eyj.md.png" alt="IB0eyj.md.png"></a></p>
<p>图1-1</p>
<h4 id="容器（Container-与组织单位（Organization-Units，OU）"><a href="#容器（Container-与组织单位（Organization-Units，OU）" class="headerlink" title="容器（Container) 与组织单位（Organization Units，OU）"></a>容器（Container) 与组织单位（Organization Units，OU）</h4><p>​    容器与对象类似，它也有自己的名称，也是一些属性的集合，不过容器内可以包含其他对象（例如<strong>用户</strong>、<strong>计算机</strong>等），也可以包含其他容器。而组织单位是一个比较特殊的容器，其内除了可以包含其他对象与组织单位之外，还可以为组织单位添加<strong>组策略</strong>（group policy）的功能。图1-2所示就是一个名为业务部的组织单位，其中包含多个对象，其中两个为<strong>用户</strong>对象、两个为<strong>计算机</strong>对象，两个本手也是组织单位的对象。</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/IBrRB9"><img src="https://z3.ax1x.com/2021/11/12/IBrRB9.png" alt="IBrRB9.png"></a></p>
<p>图1-2</p>
<p>​    AD DS以层次式架构（hierarchical）将对象、容器与i组织单位等组合在一起，并将其存储到AD DS数据库内。</p>
<h4 id="域树（Domain-Tree）"><a href="#域树（Domain-Tree）" class="headerlink" title="域树（Domain Tree）"></a>域树（Domain Tree）</h4><p>​    您可以架设包含多个域的网络，而且是以域树（domain tree）的形式存在，例如图1-3就是一个域树，其中最上层的域名为sayms.local，它是此域树的根域（root domain)；根域之下还有两个子域（sales.sayms.local与mkt.sayms.local)，之下还有三个子域。</p>
<p>​    图中域树符合DNS域名空间的命名原则，而且是具有连续性的，也就是子域的域名包含其父域的域名，例如域sales.sayms.local的后缀中包含其上一层（父域）的域名sayms.local；而nor.sales.sayms.local的后缀中包含其上一层的域名sales.sayms.local。</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/IBDVqs"><img src="https://z3.ax1x.com/2021/11/12/IBDVqs.png" alt="IBDVqs.png"></a></p>
<p>​    在域树内所有域共享一个AD DS，也就是在此域树之下只有一个AD DS，不过其数据是分散存储在各个域中的，每一个域中只存储隶属与该域的数据，例如该域内的用户账户（存储在域控制器内）。</p>
<h4 id="信任（Trust）"><a href="#信任（Trust）" class="headerlink" title="信任（Trust）"></a>信任（Trust）</h4><p>​    两个域之间必须拥有信任关系（trust relationship)，才可以访问对方域内的资源。而任何一个新的AD DS域被加入到域树后，这个域会自动信任其上一层的父域，同时父域也会自动信任此新子域，而且这些信任关系具有双向传递性（two-way transitive）。由于此信任工作是通过Kerberos security protocol来完成的，因此也被称为Kerberos trust。</p>
<ul>
<li>域A的用户登录到其所隶属的域后，这个用户是否能够访问域B的资源呢？</li>
<li>只要域B信任域A就没有问题。</li>
</ul>
<p>我们以图1-4为例来解释双向传递性，图中域A信任域B（箭头由A指向B）、域B又信任域C，因此域A会自动信任域C；另外域C信任域B（箭头由C指向B）、域B又信任域A，因此域C会自动信任域A。结果是域A和域C之间也就自动地建立起双向的信任关系。</p>
<p>所以当任何一个新域加入到域树后，它会自动双向信任这个域树内所有的域，因此只要拥有适当权限，这个新域内的用户便可以访问其他域内的资源，同理其他域内的用户也可以访问这个新域内的资源。</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/IBD3M4"><img src="https://z3.ax1x.com/2021/11/12/IBD3M4.png" alt="IBD3M4.png"></a></p>
<h4 id="林（Forest"><a href="#林（Forest" class="headerlink" title="林（Forest)"></a>林（Forest)</h4><p>​    林由一个或多个域树组成，每一个域树都有自己唯一的名称空间，如图1-5所示，其中一个域树内的每一个域名都以sayms.local结尾，而另一个则都以saytmg.local结尾。</p>
<p>​    第一个域树的根域，就是整个林的根域（forest root domain)，同时其域名就是林的林名称。例如图1-5中的sayms.local是第一个域树的根域，它就是整个林的根域，而林名称就是sayms.local。</p>
<p>​    在建立林时，每一个域树的根域与林根域之间双向的、可传递的信任关系都会自动地被建立起来，因此每一个域树中的每一个域内的用户，只要拥有权限，就可以访问其他任何一个域树内的资源，也可以到其他任何一个域树内的成员计算机登录。</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/IBDYZR"><img src="https://z3.ax1x.com/2021/11/12/IBDYZR.png" alt="IBDYZR.png"></a></p>
<h4 id="架构（Schema）"><a href="#架构（Schema）" class="headerlink" title="架构（Schema）"></a>架构（Schema）</h4><p>​    AD DS对象类型与属性数据是定义在<strong>架构</strong>内的，例如它定义了用户对象类型内包含哪些属性（姓、名、电话等）、每一个属性的数据类型等信息。</p>
<p>​    隶属于Schema Admins组的用户可以修改<strong>架构</strong>内的数据，应用程序也可以自行在<strong>架构</strong>内添加其所需的对象类型或属性。在一个林内的所有域树共享相同的架构。</p>
<h4 id="域控制器（Domain-Controller"><a href="#域控制器（Domain-Controller" class="headerlink" title="域控制器（Domain Controller)"></a>域控制器（Domain Controller)</h4><p>​    <strong>Active Directory域服务</strong>（AD DS）的目录数据是存储在域控制器内的。一个域内可以有多台域控制器，每一个域控制器的地位（几乎）是平等的，它们各自存储着一份相同的AD DS数据库。当您在任何一台域控制器内添加一个用户账户后，此账户默认被建立在此域控制器的AD DS数据库中，之后会自动被复制（replicate）到其他域控制器的AD DS数据库（如图1-6），以便让所有域控制器内的AD DS数据库都能够同步（synchronize）。</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/IBDNIx"><img src="https://z3.ax1x.com/2021/11/12/IBDNIx.png" alt="IBDNIx.png"></a></p>
<p>​    当用户在某台域成员计算机登录时，会由其中一台域控制器根据AD DS数据库内的账户数据，来验证该用户所输入的账户名称与密码是否正确。若输入正确，用户就可以成功登录；反之，会被拒绝登录、</p>
<p>​    多台域控制器可以提供容错功能，也就是即使由一台域控制器故障了，仍然能够由其他域控制器来提供服务。另外它也可以改善用户登录效率，因为多台域控制器可以分担验证用户登录身份（账户名称与密码）的负担。</p>
<p>​    域控制器是由服务器级别的计算机来承担的，例如Windows Server 2019（R2）、Windows Server 2019（R2）等。</p>
<h4 id="只读域控制器（RODC）"><a href="#只读域控制器（RODC）" class="headerlink" title="只读域控制器（RODC）"></a>只读域控制器（RODC）</h4><p>​    <strong>只读域控制器</strong>（Read-Only Domain Controller，RODC）的AD DS数据库只可以被读取，不可以被修改，也就是说用户或应用程序无法直接修改RODC的AD DS数据库。RODC的AD DS数据库内容只能够从其他<strong>可读写的域控制器</strong>复制过来。RODC主要是设计给远程分公司网络来使用的，因为一般来说远程分公司的网络规模比较小、用户人数比较少，此网络的安全措施或许并不如总公司完备，也可能缺乏IT技术人员，因此采用RODC可避免因其AD DS数据库被破坏而影响到整个AD DS环境。</p>
<ol>
<li><strong>RODC 的 AD DS 数据库内容</strong></li>
</ol>
<p>除了账户的密码之外，RODC的AD DS数据库内会存储AD DS域内所有对象与属性。远程分公司内的应用程序要读取到AD DS数据库内的对象时，可以通过RODC来快速获取。不过因为RODC并不存储用户账户密码，因此它在验证用户名称与密码时，仍然需将它们送到总公司的可写域控制器来验证。</p>
<p>由于RODC的AD DS数据库是只读的，因此远程分公司的应用程序如果要修改AD DS数据库的对象或用户要修改密码，这些变更请求都会被转发到总公司的可写域控制器来处理，总公司的可写域控制器再通过AD DS数据库的复制程序将这些变动数据复制到RODC。</p>
<ol start="2">
<li><strong>单向复制（Unidirectional Replication）</strong></li>
</ol>
<p>总公司的可写域控制器的AD DS数据库有变动时，此变动数据会被复制到RODC。然而因为用户或应用程序无法直接修改RODC的AD DS数据库，故总公司的可写域控制器不会向RODC索取变动数据，因而可以降低网络的负担。</p>
<p>除此之外，可写域控制器通过DFS分布式文件系统将SYSVOL文件夹（用来存储与组策略有关等的设置）复制给RODC时，也采用单向复制。</p>
<ol start="3">
<li><strong>认证缓存（Credential caching)</strong></li>
</ol>
<p>RODC在验证用户的密码时，仍然需要将它们送到总公司的可写域控制器来验证，若希望提高验证速度，可以选择将用户的密码存储到RODC的认证缓存区，您需要通过<strong>密码复制策略</strong>（Password Replication Policy）来选择可以被RODC缓存的账户。建议不要缓存太多账户，因为分公司的安全措施可能比较差，若RODC被入侵，则存储在缓存内的认证信息可能会外泄。</p>
<ol start="4">
<li><strong>系统管理员角色隔离（Administrator Role Separation）</strong></li>
</ol>
<p>您可以通过<strong>系统管理角色隔离</strong>功能来将任何一位域用户指定为RODC的本机系统管理员，他可以在RODC这台域控制器上登录并执行管理工作，例如更新驱动程序等，但他却无法登录其他域控制器，也无法执行其他域管理工作。此功能让您可以将RODC的一般管理工作分配给用户，但却不会危害到域安全。</p>
<ol start="5">
<li><strong>只读域名系统（Read-Only Domain Name System)</strong></li>
</ol>
<p>您可以在RODC上架设DNS服务器，RODC会复制DNS服务器的所有应用程序目录分区。客户端可向此台扮演RODC角色的DNS服务器提供DNS查询要求。</p>
<p>不过RODC的DNS服务器不支持客户端动态更新，因此客户端的更新记录请求，会被此DNS服务器转发到其他DNS服务器，让客户端转向该DNS服务器进行更新，而RODC的DNS服务器也会自动从这台DNS服务器复制该更新记录。</p>
<h4 id="可重新启动的AD-DS（Restartable-AD-DS）"><a href="#可重新启动的AD-DS（Restartable-AD-DS）" class="headerlink" title="可重新启动的AD DS（Restartable AD DS）"></a>可重新启动的AD DS（Restartable AD DS）</h4><p>​    在旧版Windows域控制器内，若要进行AD DS数据库维护工作（例如数据库脱机重整），就需要重新启动计算机，进入<strong>目录服务还原模式</strong>（Directory Service Restore Mode）来执行维护工作。若这台域控制器也同时提供其他网络服务，例如它同时也是DHCP服务器，则重新启动计算机将造成这些服务暂时中断。</p>
<p>​    除了进入<strong>目录服务还原模式</strong>之外，Windows Server 2019 （R2）等域控制器还提供<strong>可重新启动的AD DS</strong>功能，也就是说若要执行AD DS数据库维护工作，只需要将AD DS服务停止即可，不需要重新启动计算机来进入目录服务还原模式，这样不但可以让AD DS数据库的维护工作更容易、更快速地完成，而且其他服务也不会中断。完成维护工作后再重新启动AD DS服务即可。</p>
<p>​    在AD DS服务停止的情况下，只要还有其他域控制器在线，则仍然可以在这台AD DS服务停止的域控制器上利用域用户账户登录。若没有其他域控制器在线，则在这台AD DS服务已停止的域控制器上，默认只能够利用<strong>目录服务还原模式</strong>的系统管理员账户来进入<strong>目录服务还原模式</strong>。</p>
<h4 id="Active-Directory回收站"><a href="#Active-Directory回收站" class="headerlink" title="Active Directory回收站"></a>Active Directory回收站</h4><p>​    在旧版Windows系统中，系统管理员若不小心将AD DS对象删除，其恢复过程耗时耗力，例如误删组织单位，其内所有对象都会丢失，此时虽然系统管理员可以进行<strong>目录服务还原模式</strong>来恢复被误删的对象，不过比较耗费时间，而且在进入<strong>目录服务还原模式</strong>这段时间内，域控制器会暂时停止对客户端提供服务。Windows Server 2019（R2）具备<strong>Active Directory回收站</strong>功能，它让系统管理员不需要进入<strong>目录服务还原模式</strong>，就可以快速恢复被删除的对象。</p>
<h4 id="AD-DS的复制模式"><a href="#AD-DS的复制模式" class="headerlink" title="AD DS的复制模式"></a>AD DS的复制模式</h4><p>​    域控制器之间在复制AD DS数据库时，分为下面两种复制模式。</p>
<ol>
<li><strong>多主机复制模式（multi-master replication model）：</strong>AD DS数据库内的大部分数据是利用此模式进行复制操作的。在此模式下，您可以直接更新任何一台域控制器内的AD DS对象，之后这个更新过的对象会被自动复制到其他域控制器。例如您在任何一台域控制器的AD DS数据库内添加一个用户账户后，此账户会自动被复制到域内的其他域控制器。</li>
<li><strong>单主机复制模式（single-master replication model）：</strong>AD DS数据库内少部分数据是采用<strong>单主机复制模式</strong>进行复制的，在此模式下，当您提出修改对象数据的请求时，会由其中一台域控制器（被成为<strong>操作主机</strong>）负责接收与处理此请求，也就是说该对象是先在<strong>操作主机</strong>中被更新，再由<strong>操作主机</strong>将它复制给其他域控制器。例如添加或删除一个域时，此变动数据会先被写入到扮演<strong>域命名操作主机</strong>角色的域控制器内，再由它复制给其他域控制器。</li>
</ol>
<h4 id="域中的其他成员计算机"><a href="#域中的其他成员计算机" class="headerlink" title="域中的其他成员计算机"></a>域中的其他成员计算机</h4><p>​    若要充分管理网络内的计算机，请将它们加入域。用户在域成员计算机上才能利用AD DS数据库内的域用户账户来登录，在未加入域的计算机上只能够使用本机用户账户登录。域内的成员计算机如下。</p>
<p>成员计算机（member server），例如：</p>
<ul>
<li><p>Windows Server 2019 （R2）Datacenter/Standard</p>
</li>
<li><p>Windows Server 2016 （R2）Datacenter/Standard</p>
</li>
<li><p>Windows Server 2012 （R2）Datacenter/Standard</p>
</li>
</ul>
<p>上述服务器级别的计算机加入域后被称为<strong>成员服务器</strong>，但其并不存储AD DS数据库，它们也不负责验证AD DS域用户名称与密码，而是将其转发给域控制器来验证。未加入域的服务器被称为<strong>独立服务器</strong>或<strong>工作组服务器</strong>。但不论是独立或成员服务器都由<strong>本地安全账户数据库（SAM）</strong>，系统可以利用它来验证本地用户（非AD DS域成员）的身份。</p>
<p>其他常用的Windows计算机，例如：</p>
<ul>
<li>Windows 10 Enterprise</li>
<li>Windows 7 Professional</li>
</ul>
<p>在上述客户端计算机加入域以后，用户就可以在这些计算机上利用AD DS内的账户来登录，否则只能够利用本地账户来登录。</p>
<p>一些入门级的客户端计算机（例如Windows 8.1 Standard等）无法加入域。</p>
<p>您可以将Windows Server 2019（R2）、Windows Server 2016（R2）等独立或成员服务器生升级为域控制器，也可以将域控制器降级为独立或成员服务器。</p>
<h4 id="DNS服务器"><a href="#DNS服务器" class="headerlink" title="DNS服务器"></a>DNS服务器</h4><p>​    域控制器需要将自己登记到DNS服务器内，以便让其他计算机通过DNS服务器来找到这台域控制器，因此域环境需要有可支持AD DS的DNS服务器。此服务器最好支持<strong>动态更新</strong>（dynamic update）功能，以便当域控制器的角色发生变化或域成员计算机的IP地址等数据发生变化时，可以自动更新DNS服务器内的记录。</p>
<h4 id="轻型目录访问协议（LDAP）"><a href="#轻型目录访问协议（LDAP）" class="headerlink" title="轻型目录访问协议（LDAP）"></a>轻型目录访问协议（LDAP）</h4><p>​    LDAP（lightweight Directory Access Protocol）是一种用来查询与更新AD DS的目录服务通信协议。AD DS利用<strong>LDAP名称路径</strong>（LDAP naming path）来描述对象在AD DS内的位置，以便用它来访问AD DS对象。<strong>LDAP名称路径</strong>如下。</p>
<ul>
<li>Distinguished Name（DN）：它是对象在AD DS内的完整路径，例如图1-7中的用户账户名称为<strong>林小洋</strong>，其DN为：</li>
</ul>
<p>CN=林小洋，OU=业务一组，OU=业务部，DC=sayms，DC=local</p>
<p>其中的DC（Domain Component）表示DNS域名中的组件，例如sayms.local中的sayms与local；OU为组织单位；CN为Common Name。除了DC与OU之外，其他都利用CN来表示，例如用户与计算机对象都属于CN。上述DN表示法中的<strong>sayms.local</strong>为域名，<strong>业务部</strong>，<strong>业务一组</strong>都是组织单位。此DN表示账户<strong>林小洋</strong>存储在<strong>sayms.local\业务部\业务一组</strong>路径内</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/IBD0zD"><img src="https://z3.ax1x.com/2021/11/12/IBD0zD.png" alt="IBD0zD.png"></a></p>
<ul>
<li><strong>Relative Distinguished Name（RDN）：</strong>RND是用来代表DN完整路径中的部分路径，例如前述路径中，CN=林小洋与OU=业务一组等都是RDN。</li>
</ul>
<p>除了DN与RDN这两个对象名称外，还有以下名称。</p>
<ul>
<li><p>Global Unique Identifier（GUID）：系统会自动为每一个对象指定一个唯一的，128位数值的GUID。虽然可以改变对象名称，但其GUID永远不会改变。</p>
</li>
<li><p>User Principal Name（UPN）：每一个使用者还可以有一个比DN更短，更容易记忆的UPN，例如图1-7中的林小洋隶属于域sayms.local，则UPN可为<a href="mailto:&#98;&#111;&#x62;&#64;&#115;&#97;&#121;&#109;&#115;&#46;&#x6c;&#x6f;&#99;&#97;&#x6c;">&#98;&#111;&#x62;&#64;&#115;&#97;&#121;&#109;&#115;&#46;&#x6c;&#x6f;&#99;&#97;&#x6c;</a>。用户登录时所输入的账户名称最好使用UPN，因为无论此用户账户被移动到哪一个域，其UPN都不会变化，因此用户可以一直用同一个名称来登录。</p>
</li>
<li><p>Service Principal Name（SPN）：SPN是一个包含多重设定值的名称，它是根据DNS主机来建立的。SPN用来代表某台计算机所支持的服务，它让其他计算机都可以通过SPN来与这台计算机的服务进行交互。</p>
</li>
</ul>
<h4 id="全局编录（Global-Cacalog）"><a href="#全局编录（Global-Cacalog）" class="headerlink" title="全局编录（Global Cacalog）"></a>全局编录（Global Cacalog）</h4><p>​    虽然在域树内的所有域共享一个AD DS数据库，但其数据却分散在各个域内，而每一个域只存储该域本身的数据。为了让用户、应用程序能够快速找到位于其他域内的资源，因此在AD DS内设计了<strong>全局编录</strong>（global catalog）。一个林内的所有域树共享相同的<strong>全局编录</strong>。</p>
<p>​    全局编录的数据存储在域控制器内，这台域控制器可被称为<strong>全局编录服务器</strong>，它存储着林内所有域的AD DS数据库内的每一个对象，不过只存储对象的部分属性，这些属性都是常用的、用来对对象进行搜索的属性，例如用户的电话号码、登录账户名称等。<strong>全局编录</strong>让用户即使不知道对象位于哪一个域内，仍然可以很快速地找到所需对象。</p>
<p>​    用户登录时，<strong>全局编录服务器</strong>还负责提供该用户所隶属的<strong>通用组</strong>信息；用户利用UPN登录时，它也负责提供该用户隶属于哪一个域的信息。</p>
<h4 id="站点（Site）"><a href="#站点（Site）" class="headerlink" title="站点（Site）"></a>站点（Site）</h4><p>​    <strong>站点</strong>由一个或多个IP子网所组成，这些子网之间通过<strong>高速且可靠的链路</strong>连接在一起，也就是说这些子网之间的连接速度要够快且稳定、符合您的需求，否则您就应该将它们分别规划为不同的站点。</p>
<p>一般来说，一个LAN（局域网）之内的各个子网之间的连接都符合速度快且高可靠度的要求，因此可以将一个LAN规划为一个站点；而WAN（广域网）内的各个LAN之间的连接速度一般都不快，因此WAN之中的各个LAN应分别规划为不同的站点，如图1-8所示。</p>
<p>​    域是逻辑的（logical）分组，而站点则是实体的（physical）分组。在AD DS内每一个站点可能包含多个域；而一个域内的各个计算机也可能分布在不同的站点内。</p>
<p>​    若一个域的控制器分布在不同站点内，而站点之间是低速连接，由于不同站点的域控制器之间会互相复制AD DS数据库，因此需谨慎规划执行复制的时段，也就是尽量在非高峰时期才执行复制工作，同时复制频率不要太高，以避免复制时占用站点之间连接的带宽，影响站点之间其他数据的传输效率。</p>
<p><a target="_blank" rel="noopener" href="https://imgtu.com/i/IBDsLd"><img src="https://z3.ax1x.com/2021/11/12/IBDsLd.png" alt="IBDsLd.png"></a></p>
<p>图1-8</p>
<p>​    同一个站点内的域控制器之间是通过快速链路连接在一起的，因此在复制AD DS数据时，可以快速复制。AD DS的默认设置会让同一个站点内、隶属于同一个域的域控制器之间自动执行复制工作，且默认的复制频率也比不同站点之间要搞。</p>
<p>​    不同站点之间在复制时数据会被压缩后再传输，以减少站点之间网络带宽的负担；但是同一个站点内的域控制器之间在复制时数据并不会压缩后传输。</p>
<h4 id="目录分区（Directory-Partition）"><a href="#目录分区（Directory-Partition）" class="headerlink" title="目录分区（Directory Partition）"></a>目录分区（Directory Partition）</h4><p>AD DS数据库被逻辑的分为下面4个目录分区</p>
<ul>
<li><strong>架构目录分区（Schema Directory Partition）</strong>：它存储着整个林中所有对象与属性的定义数据，也存储着如何建立新对象与属性的规则。整个林内所有域共享一份相同的架构目录分区，也存储着如何建立新对象与属性规则。整个林内所有域共享一份相同的<strong>架构目录分区</strong>，它会被复制到林中所有域的所有域控制器。</li>
<li><strong>配置目录分区（Configuration Directory Partition）</strong>：其内存储着整个AD DS的结构，例如有哪些域、哪些站点、哪些域控制器等数据。整个林共享一份相同的<strong>配置目录分区</strong>，它会被复制到林中所有域的所有域控制器。</li>
<li><strong>域目录分区（Domain Directory Partition）</strong>：每一个域各有一个<strong>域目录分区</strong>。，，其内存储着与该域有关的对象，例如用户，组与计算机等对象。每一个域各自拥有一份<strong>域目录分区</strong>，它只会被复制到该域内所有域控制器，但并不会被复制到其他域的域控制器。</li>
<li><strong>应用程序目录分区（Application Directory Partition）：</strong>一般来说，<strong>应用程序目录分区</strong>是由应用程序所建立的，其内存储着与该应用程序有关的数据。例如由WindowsServer2019 R2扮演的DNS服务器，若所建立的DNS区域为Active Directory<strong>集成区域</strong>的话，则它便会在AD DS数据库内建立<strong>应用程序目录分区</strong>，以便存储该区域的数据。<strong>应用程序目录分区</strong>会被复制到林中特定的域控制器中，而不是所有的域控制器。</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">网络搭建竞赛组</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://www.hnswxx.cn/2021/11/11/active-directory-domain-services-overview/">https://www.hnswxx.cn/2021/11/11/active-directory-domain-services-overview/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.hnswxx.cn" target="_blank">河南省商务中等职业学校</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/WindowServer2019/">WindowServer2019</a></div><div class="post_share"><div class="social-share" data-image="https://z3.ax1x.com/2021/11/12/IBwfWF.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/11/13/mail-server-postfix/"><img class="prev-cover" src="https://z3.ax1x.com/2021/11/13/IyRoJe.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">邮件服务器 Postfix</div></div></a></div><div class="next-post pull-right"><a href="/2021/11/11/self-signed-certificate/"><img class="next-cover" src="https://z3.ax1x.com/2021/11/12/IBYzsx.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">创建自签名证书</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/12/11/nic-teaming/" title="掌握Windows Server 2012 网卡聚合（NIC Teaming）"><img class="cover" src="https://s1.ax1x.com/2021/12/11/oTpAiR.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-11</div><div class="title">掌握Windows Server 2012 网卡聚合（NIC Teaming）</div></div></a></div><div><a href="/2021/11/21/domain-migration/" title="Windows域迁移"><img class="cover" src="https://z3.ax1x.com/2021/11/21/Ij0JhD.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-11-21</div><div class="title">Windows域迁移</div></div></a></div><div><a href="/2021/12/17/windows-iis-php/" title="WindowsServer2019下IIS+PHP配置教程"><img class="cover" src="https://s4.ax1x.com/2021/12/17/TFk1C8.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-17</div><div class="title">WindowsServer2019下IIS+PHP配置教程</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="cols"><div class="col"><div class="container"><div class="front avatarPanel"><div class="inner"><div class="player-title">网络搭建</div><div class="player-avatar"><img src="https://z3.ax1x.com/2021/11/13/IybhP1.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div></div></div><div class="back attributesPanel"><div class="inner"><div class="player-lv">LV.3</div><div class="player-name">网络搭建竞赛组</div><div class="attributes-value"><div class="attributes-value-item"><a href="/archives/"><div class="attributes">文章</div><div class="value-bar"><div class="value-bar-fill" style="width:27.00%"><div class="value-bar-fill-in" style="background: rgba(89, 230, 54,0.6)"></div></div></div><span>27/100</span></a></div><div class="attributes-value-item"><a href="/tags/"><div class="attributes">标签</div><div class="value-bar"><div class="value-bar-fill" style="width:21.00%"><div class="value-bar-fill-in" style="background: rgba(224, 20, 20, 0.6)"></div></div></div><span>21/100</span></a></div><div class="attributes-value-item"><a href="/categories/"><div class="attributes">分类</div><div class="value-bar"><div class="value-bar-fill" style="width:2.00%"><div class="value-bar-fill-in" style="background: rgba(30, 97, 226, 0.6)"></div></div></div><span>2/100</span></a></div></div></div></div></div></div><div class="col"><div class="container"><div class="front descriptionPanel"><div class="inner"><div class="player_description"><b>劳动光荣<br>技能宝贵<br>德技并修<br>知行合一</b></div><div class="play-bottom"></div></div></div><div class="back buttonPanel"><div class="inner"><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://jq.qq.com/?_wv=1027&amp;k=wTQefzUT"><i class="fab fa-edge"></i><span>加入网络爱好者群聊</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="tencent://message/?uin=1692565761&amp;Site=&amp;Menu=yes" target="_blank" title="qq"><i class="iconfont icon-qq"></i></a><a class="social-icon" href="https://user.qzone.qq.com/1692565761/main" target="_blank" title="qzone"><i class="iconfont icon-qzone"></i></a><a class="social-icon" href="https://z3.ax1x.com/2021/11/15/I2Ulod.jpg" target="_blank" title="wechat"><i class="iconfont icon-wechat"></i></a><a class="social-icon" href="https://github.com/1692565761" target="_blank" title="github"><i class="iconfont icon-github"></i></a></div><div class="play-bottom"></div></div></div></div></div></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content"><a href="https://www.hnswxx.com/a/dangjianzhuanti/dangshijiaoyu/" target="_blank"><img width="100%" src="https://z3.ax1x.com/2021/11/13/IyHHNn.png" height="90"></a><a href="http://www.hnswxx.com/plus/list.php?tid=88" target="_blank"><img src="https://z3.ax1x.com/2021/11/13/IyHxuF.png" alt="img"  height="90" width="100%"></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#Active-Directory%E5%9F%9F%E6%9C%8D%E5%8A%A1%E7%9A%84%E9%80%82%E7%94%A8%E8%8C%83%E5%9B%B4%EF%BC%88Scope%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">Active Directory域服务的适用范围（Scope）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4%EF%BC%88Namespace%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">名称空间（Namespace）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%EF%BC%88Object%EF%BC%89%E4%B8%8E%E5%B1%9E%E6%80%A7%EF%BC%88Attribute%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">对象（Object）与属性（Attribute）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%EF%BC%88Container-%E4%B8%8E%E7%BB%84%E7%BB%87%E5%8D%95%E4%BD%8D%EF%BC%88Organization-Units%EF%BC%8COU%EF%BC%89"><span class="toc-number">4.</span> <span class="toc-text">容器（Container) 与组织单位（Organization Units，OU）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%9F%E6%A0%91%EF%BC%88Domain-Tree%EF%BC%89"><span class="toc-number">5.</span> <span class="toc-text">域树（Domain Tree）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%A1%E4%BB%BB%EF%BC%88Trust%EF%BC%89"><span class="toc-number">6.</span> <span class="toc-text">信任（Trust）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%97%EF%BC%88Forest"><span class="toc-number">7.</span> <span class="toc-text">林（Forest)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%B6%E6%9E%84%EF%BC%88Schema%EF%BC%89"><span class="toc-number">8.</span> <span class="toc-text">架构（Schema）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%9F%E6%8E%A7%E5%88%B6%E5%99%A8%EF%BC%88Domain-Controller"><span class="toc-number">9.</span> <span class="toc-text">域控制器（Domain Controller)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AA%E8%AF%BB%E5%9F%9F%E6%8E%A7%E5%88%B6%E5%99%A8%EF%BC%88RODC%EF%BC%89"><span class="toc-number">10.</span> <span class="toc-text">只读域控制器（RODC）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E9%87%8D%E6%96%B0%E5%90%AF%E5%8A%A8%E7%9A%84AD-DS%EF%BC%88Restartable-AD-DS%EF%BC%89"><span class="toc-number">11.</span> <span class="toc-text">可重新启动的AD DS（Restartable AD DS）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Active-Directory%E5%9B%9E%E6%94%B6%E7%AB%99"><span class="toc-number">12.</span> <span class="toc-text">Active Directory回收站</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AD-DS%E7%9A%84%E5%A4%8D%E5%88%B6%E6%A8%A1%E5%BC%8F"><span class="toc-number">13.</span> <span class="toc-text">AD DS的复制模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%9F%E4%B8%AD%E7%9A%84%E5%85%B6%E4%BB%96%E6%88%90%E5%91%98%E8%AE%A1%E7%AE%97%E6%9C%BA"><span class="toc-number">14.</span> <span class="toc-text">域中的其他成员计算机</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DNS%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">15.</span> <span class="toc-text">DNS服务器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BD%BB%E5%9E%8B%E7%9B%AE%E5%BD%95%E8%AE%BF%E9%97%AE%E5%8D%8F%E8%AE%AE%EF%BC%88LDAP%EF%BC%89"><span class="toc-number">16.</span> <span class="toc-text">轻型目录访问协议（LDAP）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E7%BC%96%E5%BD%95%EF%BC%88Global-Cacalog%EF%BC%89"><span class="toc-number">17.</span> <span class="toc-text">全局编录（Global Cacalog）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AB%99%E7%82%B9%EF%BC%88Site%EF%BC%89"><span class="toc-number">18.</span> <span class="toc-text">站点（Site）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E5%88%86%E5%8C%BA%EF%BC%88Directory-Partition%EF%BC%89"><span class="toc-number">19.</span> <span class="toc-text">目录分区（Directory Partition）</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/12/17/windows-iis-php/" title="WindowsServer2019下IIS+PHP配置教程"><img src="https://s4.ax1x.com/2021/12/17/TFk1C8.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="WindowsServer2019下IIS+PHP配置教程"/></a><div class="content"><a class="title" href="/2021/12/17/windows-iis-php/" title="WindowsServer2019下IIS+PHP配置教程">WindowsServer2019下IIS+PHP配置教程</a><time datetime="2021-12-17T04:36:10.000Z" title="发表于 2021-12-17 12:36:10">2021-12-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/17/php-thread-safe-difference/" title="PHP版本Non Thread Safe和Thread Safe如何选择？区别是什么？"><img src="https://s4.ax1x.com/2021/12/17/TiLPbQ.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="PHP版本Non Thread Safe和Thread Safe如何选择？区别是什么？"/></a><div class="content"><a class="title" href="/2021/12/17/php-thread-safe-difference/" title="PHP版本Non Thread Safe和Thread Safe如何选择？区别是什么？">PHP版本Non Thread Safe和Thread Safe如何选择？区别是什么？</a><time datetime="2021-12-17T03:03:38.000Z" title="发表于 2021-12-17 11:03:38">2021-12-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/15/ipadair_downgrade/" title="记录一次IPAD  air降级ios10.3.3的全部过程"><img src="https://s4.ax1x.com/2021/12/15/ozS9B9.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="记录一次IPAD  air降级ios10.3.3的全部过程"/></a><div class="content"><a class="title" href="/2021/12/15/ipadair_downgrade/" title="记录一次IPAD  air降级ios10.3.3的全部过程">记录一次IPAD  air降级ios10.3.3的全部过程</a><time datetime="2021-12-14T16:51:24.000Z" title="发表于 2021-12-15 00:51:24">2021-12-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/11/ldap-basic-configuration/" title="ldap基础配置与案例"><img src="https://s4.ax1x.com/2021/12/11/o7qMIx.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ldap基础配置与案例"/></a><div class="content"><a class="title" href="/2021/12/11/ldap-basic-configuration/" title="ldap基础配置与案例">ldap基础配置与案例</a><time datetime="2021-12-11T12:35:16.000Z" title="发表于 2021-12-11 20:35:16">2021-12-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/12/11/nic-teaming/" title="掌握Windows Server 2012 网卡聚合（NIC Teaming）"><img src="https://s1.ax1x.com/2021/12/11/oTpAiR.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="掌握Windows Server 2012 网卡聚合（NIC Teaming）"/></a><div class="content"><a class="title" href="/2021/12/11/nic-teaming/" title="掌握Windows Server 2012 网卡聚合（NIC Teaming）">掌握Windows Server 2012 网卡聚合（NIC Teaming）</a><time datetime="2021-12-11T01:08:37.000Z" title="发表于 2021-12-11 09:08:37">2021-12-11</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 By 网络搭建竞赛组</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><p><a style="margin-inline:5px"target="_blank" href="https://hexo.io/"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="博客框架为 Hexo" alt="HEXO"></a><a style="margin-inline:5px"target="_blank" href="https://butterfly.js.org/"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="主题采用 Butterfly" alt="Butterfly"></a><a style="margin-inline:5px"target="_blank" href="https://www.jsdelivr.com/"><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr" title="本站使用 Jsdelivr 为静态资源提供CDN加速" alt="Jsdelivr"></a><a style="margin-inline:5px"target="_blank" href="https://github.com/"><img src="https://img.shields.io/badge/Source-vercel-d021d6?style=flat&logo=vercel" title="本站项目由 vercel 托管" alt="vercel"></a><a style="margin-inline:5px"target="_blank"href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" alt="img" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"></div><script async src="//at.alicdn.com/t/font_2264842_3izu8i5eoc2.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-show-text.min.js" data-mobile="false" data-text="劳动光荣,技能宝贵,创造伟大,德技并修,知行合一" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start -->
  <script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/hexo-github-calendar@1.16/hexo_githubcalendar.js"></script>
  <script data-pjax>
        function GithubCalendarConfig(){
            var git_githubapiurl ="https://python-github-calendar-api.vercel.app/api?1692565761";
            var git_color =['#ebedf0', '#fdcdec', '#fc9bd9', '#fa6ac5', '#f838b2', '#f5089f', '#c4067e', '#92055e', '#540336', '#48022f', '#30021f'];
            var git_user ="1692565761";
            var parent_div_git = document.getElementById('recent-posts');
            var git_div_html = '<div class="recent-post-item" style="width:100%;height:auto;padding:10px;"><div id="github_loading" style="width:10%;height:100%;margin:0 auto;display: block"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform></path></svg></div><div id="github_container"></div></div>';
            if(parent_div_git && location.pathname =='/'){
                console.log('已挂载github calendar')
                // parent_div_git.innerHTML=git_div_html+parent_div_git.innerHTML // 无报错，但不影响使用(支持pjax跳转)
                parent_div_git.insertAdjacentHTML("afterbegin",git_div_html) // 有报错，但不影响使用(支持pjax跳转)
            };
            GithubCalendar(git_githubapiurl,git_color,git_user)
        }
        if(document.getElementById('recent-posts')){
            GithubCalendarConfig()
        }
    </script>
    <style>#github_container{min-height:280px}@media screen and (max-width:650px) {#github_container{background-image:;min-height:0px}}</style>
    <style>undefined</style><!-- hexo injector body_end end --></body></html>